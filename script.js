// â€¢ Lead the development and maintenance of the main operational platform, managing a team of 7â€“8 engineers to ensure smooth operation and continuous improvement.

// â€¢ Proactively resolve critical production issues and implement monitoring solutions, reducing incident volume and improving operational visibility.

// â€¢ Optimize performance across key system components by refactoring legacy code and enhancing database efficiency through targeted SQL tuning.

// â€¢ Leverage AI tools like Copilot to refactor legacy code and enhance test coverage, streamlining the release management process by reducing repetitive tasks and improving overall efficiency.

// â€¢ Deliver impactful product features that increase asset management capacity, automate manual workflows, and improve user conversion through data-driven UX enhancements.

// â€¢ Champion engineering best practices, introducing improvements in CI/CD pipelines, code quality processes, and infrastructure automation to enhance delivery speed and reliability.

// â€¢ Mentor and support the growth of engineers, leading onboarding initiatives, developing technical documentation, and fostering a culture of collaboration and continuous learning.
// Skills: Emergency management hotfix Â· Software as a Service (SaaS) Â· Financial Technology Â· Credit Risk Management Â· Leadership Â· Architecture Â· Strategy Â· Software Architectural Design Â· Coaching Â· Performance Reviews Â· Software Asset Management Â· Amazon EKS Â· Code Review Â· Team Leadership Â· IT Strategy Â· Optimization Â· System Monitoring Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Engineering Management Â· Distributed Systems Â· Problem Solving Â· AI for improving Code Â· People Development
// Full Stack Engineer (Typescript)
// Full Stack Engineer (Typescript)
// Feb 2020 - Aug 2021 Â· 1 yr 7 mosFeb 2020 to Aug 2021 Â· 1 yr 7 mos
// Berlin Area, GermanyBerlin Area, Germany
// â€¢ Designed and developed multiple business-critical microservices using NestJS and AWS, supporting key platform features with a focus on scalability, modularity, and performance.

// â€¢ Optimized lead conversion, KYC, and investment flows by applying Domain-Driven Design (DDD) and refactoring legacy code, resulting in improved system reliability, maintainability, and long-term scalability.

// Developed end-to-end (E2E) tests using Python and Behave to improve the reliability of the regression test suite, enhancing confidence in releases and ensuring consistent software quality.
// â€¢ Designed and developed multiple business-critical microservices using NestJS and AWS, supporting key platform features with a focus on scalability, modularity, and performance. â€¢ Optimized lead conversion, KYC, and investment flows by applying Domain-Driven Design (DDD) and refactoring legacy code, resulting in improved system reliability, maintainability, and long-term scalability. Developed end-to-end (E2E) tests using Python and Behave to improve the reliability of the regression test suite, enhancing confidence in releases and ensuring consistent software quality.
// Skills: Domain-Driven Design (DDD) Â· Software as a Service (SaaS) Â· Financial Technology Â· Credit Risk Management Â· Architecture Â· Python (Programming Language) Â· Strategy Â· Microservices Â· TypeScript Â· React.js Â· Software Asset Management Â· Amazon EKS Â· Code Review Â· IT Strategy Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Distributed Systems Â· NestJS Â· Problem Solving
// Skills: Domain-Driven Design (DDD) Â· Software as a Service (SaaS) Â· Financial Technology Â· Credit Risk Management Â· Architecture Â· Python (Programming Language) Â· Strategy Â· Microservices Â· TypeScript Â· React.js Â· Software Asset Management Â· Amazon EKS Â· Code Review Â· IT Strategy Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Distributed Systems Â· NestJS Â· Problem Solving
// PlusDental logo
// Software Engineer (JavaScript)
// Software Engineer (JavaScript)
// PlusDentalPlusDental
// Jul 2018 - Jan 2020 Â· 1 yr 7 mosJul 2018 to Jan 2020 Â· 1 yr 7 mos
// Berlin Area, GermanyBerlin Area, Germany
// PlusDental is a leading German teledentistry company based in Berlin, specializing in the production of clear aligners for patients seeking minor dental adjustments. The service is available across Germany, Austria, the United Kingdom, and several other European countries.

// As a Full Stack Developer at PlusDental, my key responsibilities included:
//
// â€¢ Led the migration from a legacy MERN stack to Next.js, enhancing UI/UX scalability using Redux and styled-components, and revamped mobile apps with React Native to improve user experience and performance.

// â€¢ Implemented internationalization (i18n) across multiple countries and languages, while utilizing Google PageSpeed to achieve significant performance enhancements.

// â€¢ Integrated a third-party library to render interactive 3D teeth models and personalized care plans for customers, providing an engaging and informative user experience.

// â€¢ Contributed to the design and implementation of GraphQL, optimizing data fetching and improving the overall efficiency of the system.
// PlusDental is a leading German teledentistry company based in Berlin, specializing in the production of clear aligners for patients seeking minor dental adjustments. The service is available across Germany, Austria, the United Kingdom, and several other European countries. As a Full Stack Developer at PlusDental, my key responsibilities included: â€¢ Led the migration from a legacy MERN stack to Next.js, enhancing UI/UX scalability using Redux and styled-components, and revamped mobile apps with React Native to improve user experience and performance. â€¢ Implemented internationalization (i18n) across multiple countries and languages, while utilizing Google PageSpeed to achieve significant performance enhancements. â€¢ Integrated a third-party library to render interactive 3D teeth models and personalized care plans for customers, providing an engaging and informative user experience. â€¢ Contributed to the design and implementation of GraphQL, optimizing data fetching and improving the overall efficiency of the system.
// Skills: GraphQL Â· Architecture Â· React Native Â· Strategy Â· TypeScript Â· I18n Â· Amazon EKS Â· Code Review Â· IT Strategy Â· MERN Stack Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Problem Solving Â· Commerce
// Skills: GraphQL Â· Architecture Â· React Native Â· Strategy Â· TypeScript Â· I18n Â· Amazon EKS Â· Code Review Â· IT Strategy Â· MERN Stack Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Problem Solving Â· Commerce
// Full Stack Engineer (NodeJS/MeteorJS/ReactNative)
// Full Stack Engineer (NodeJS/MeteorJS/ReactNative) 
// Full Stack Engineer (NodeJS/MeteorJS/ReactNative) 
// HeroBearHeroBear
// Apr 2016 - Nov 2017 Â· 1 yr 8 mosApr 2016 to Nov 2017 Â· 1 yr 8 mos
// TaiwanTaiwan
// HeroBear is a startup company that provides a platform enabling (semi) professional skilled individuals to offer their services to targeted customers.

// As the Lead Full Stack Developer at HeroBear, my key responsibilities included:

// â€¢ Collaborated closely with designers to design intuitive and user-friendly UI/UX for the platform.

// â€¢ Developed the full stack of the web application using Node.js, Meteor, React, and MongoDB, ensuring a seamless and dynamic user experience.

// â€¢ Deployed the web app on AWS, leveraging cloud services for scalability, performance, and security.

// â€¢ Managed a team of contract designers and developers, overseeing their work to ensure high-quality deliverables and timely project completion.

// â€¢ Designed and implemented mobile applications for both Android and iOS using the React Native framework, providing a cross-platform solution for users.
// HeroBear is a startup company that provides a platform enabling (semi) professional skilled individuals to offer their services to targeted customers. As the Lead Full Stack Developer at HeroBear, my key responsibilities included: â€¢ Collaborated closely with designers to design intuitive and user-friendly UI/UX for the platform. â€¢ Developed the full stack of the web application using Node.js, Meteor, React, and MongoDB, ensuring a seamless and dynamic user experience. â€¢ Deployed the web app on AWS, leveraging cloud services for scalability, performance, and security. â€¢ Managed a team of contract designers and developers, overseeing their work to ensure high-quality deliverables and timely project completion. â€¢ Designed and implemented mobile applications for both Android and iOS using the React Native framework, providing a cross-platform solution for users.
// Skills: JavaScript Â· UI UX Â· Low Level Programming Â· Architecture Â· React Native Â· Strategy Â· NoSQL Â· Code Review Â· Cross-platform Development Â· IT Strategy Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Problem Solving Â· Commerce Â· People Development
// Skills: JavaScript Â· UI UX Â· Low Level Programming Â· Architecture Â· React Native Â· Strategy Â· NoSQL Â· Code Review Â· Cross-platform Development Â· IT Strategy Â· Emerging Technologies Â· Pricing Strategy Â· Trade Finance Â· Amazon Dynamodb Â· Computer Science Â· Problem Solving Â· Commerce Â· People Development
// HERE Technologies logo
// QA/Release Engineer (Student/Intern)
// QA/Release Engineer (Student/Intern)
// HERE, a Nokia companyHERE, a Nokia company
// May 2015 - Mar 2017 Â· 1 yr 11 mosMay 2015 to Mar 2017 Â· 1 yr 11 mos
// Berlin Area, GermanyBerlin Area, Germany
// During my time at Nokia HERE, I was primarily responsible for a project in collaboration with Samsung to develop the Native HERE Maps and Navigator applications for Samsungâ€™s native operating system on their devices. My role encompassed a variety of key tasks, as outlined below:

// â€¢ Maintained and enhanced Ruby, Python, and Bash scripts for automating tests in the Jenkins CI/CD pipeline, while also setting up nightly end-to-end regression testing on Samsung portable devices. This ensured consistent and reliable testing, helping to catch issues early and ensuring that the mobile app functioned seamlessly across various devices.

// â€¢ Supporting software development and debug with C++ on Samsung's native OS system Tizen

// â€¢ Tracked and reported application issues while acting as the communication bridge between the HERE project manager, developers, and Samsung's engineering team. This helped resolve critical bugs quickly and ensured smooth collaboration across all parties.

// â€¢ Managed software releases, preparing detailed release reports for Samsung that included test results, release notes, and a list of known issues. This ensured everyone involved had the necessary information for a smooth deployment.
// During my time at Nokia HERE, I was primarily responsible for a project in collaboration with Samsung to develop the Native HERE Maps and Navigator applications for Samsungâ€™s native operating system on their devices. My role encompassed a variety of key tasks, as outlined below: â€¢ Maintained and enhanced Ruby, Python, and Bash scripts for automating tests in the Jenkins CI/CD pipeline, while also setting up nightly end-to-end regression testing on Samsung portable devices. This ensured consistent and reliable testing, helping to catch issues early and ensuring that the mobile app functioned seamlessly across various devices. â€¢ Supporting software development and debug with C++ on Samsung's native OS system Tizen â€¢ Tracked and reported application issues while acting as the communication bridge between the HERE project manager, developers, and Samsung's engineering team. This helped resolve critical bugs quickly and ensured smooth collaboration across all parties. â€¢ Managed software releases, preparing detailed release reports for Samsung that included test results, release notes, and a list of known issues. This ensured everyone involved had the necessary information for a smooth deployment.
// Skills: Project Coordination Â· Low Level Programming Â· Python (Programming Language) Â· Test Automation Â· Code Review Â· C++ Â· Emerging Technologies Â· End-to-end Testing Â· Ruby Â· Computer Science Â· Problem Solving Â· Release Management
// Skills: Project Coordination Â· Low Level Programming Â· Python (Programming Language) Â· Test Automation Â· Code Review Â· C++ Â· Emerging Technologies Â· End-to-end Testing Â· Ruby Â· Computer Science Â· Problem Solving Â· Release Management
// Ruby on Rails project Trainee
// Ruby on Rails project Trainee
// Ruby on Rails project Trainee
// Pilot BootcampPilot Bootcamp
// Feb 2015 - Feb 2015 Â· 1 moFeb 2015 to Feb 2015 Â· 1 mo
// Mitte, Berlin, GermanyMitte, Berlin, Germany
// Training project with practical Ruby and Ruby on Rails application.
// Implementing commercial parking space loaning website with Ruby on Rails including integration test and online deployment
// Training project with practical Ruby and Ruby on Rails application. Implementing commercial parking space loaning website with Ruby on Rails including integration test and online deployment
// Skills: Low Level Programming Â· Emerging Technologies Â· Computer Science Â· Problem Solving
// Skills: Low Level Programming Â· Emerging Technologies Â· Computer Science Â· Problem Solving
// National Taiwan University logo
// Graduate Research Assistant
// Graduate Research Assistant
// National Taiwan UniversityNational Taiwan University
// Feb 2013 - Jul 2013 Â· 6 mosFeb 2013 to Jul 2013 Â· 6 mos
// Taipei City, TaiwanTaipei City, Taiwan
// â€¢ Processed and visualized experimental aerosol data using C++ and MATLAB, helping to derive valuable insights and inform future experiments.

// â€¢ Streamlined the experimental process to make it more efficient, ensuring we could get more accurate results in less time.

// â€¢ Worked with manufacturers to ensure proper calibration control, making sure all equipment was set up correctly for reliable experiment results.

// â€¢ Developed a tool in C# to assist with the experiments, improving the overall workflow and making things run smoother.

// â€¢ Handled the purchasing and upkeep of experimental materials and equipment, ensuring everything was ready and in top condition for the experiments.
// â€¢ Processed and visualized experimental aerosol data using C++ and MATLAB, helping to derive valuable insights and inform future experiments. â€¢ Streamlined the experimental process to make it more efficient, ensuring we could get more accurate results in less time. â€¢ Worked with manufacturers to ensure proper calibration control, making sure all equipment was set up correctly for reliable experiment results. â€¢ Developed a tool in C# to assist with the experiments, improving the overall workflow and making things run smoother. â€¢ Handled the purchasing and upkeep of experimental materials and equipment, ensuring everything was ready and in top condition for the experiments.
// Skills: Low Level Programming Â· Emerging Technologies Â· Problem Solving
// Skills: Low Level Programming Â· Emerging Technologies Â· Problem Solving
// MAA Engineering Consultants (Shanghai) Ltd. logo
// Student Assistant Programmer
// Student Assistant Programmer
// MAA Engineering Consultants Ltd (Taiwan branch).MAA Engineering Consultants Ltd (Taiwan branch).
// Apr 2011 - Apr 2012 Â· 1 yr 1 moApr 2011 to Apr 2012 Â· 1 yr 1 mo
// New Taipei City, TaiwanNew Taipei City, Taiwan
// Developing and implementing auto-check algorithm for legal and usability purpose on Taipei city Metro BIM model with C#.
// Testing and Visualising result with Revit Architecture 
// Developing and implementing auto-check algorithm for legal and usability purpose on Taipei city Metro BIM model with C#. Testing and Visualising result with Revit Architecture 
// Skills: Emerging Technologies Â· Problem Solving
// Skills: Emerging Technologies Â· Problem Solving
// National Taiwan University logo
// Graduate Teaching Assistant
// Graduate Teaching Assistant
// National Taiwan UniversityNational Taiwan University
// Jan 2011 - Aug 2011 Â· 8 mosJan 2011 to Aug 2011 Â· 8 mos
// Taipei City, TaiwanTaipei City, Taiwan
// Course website:https://sites.google.com/a/caece.net/keystone-project-b-jet-cut/

// Inspiring freshman student with creative thinking for the structure design.
// Guiding students to use engineering graphic software SketchUp to model their design.
// Assisting with the water jet machine for building the real model. 
// Assisting to prepare lecture materials.
// Office hour consulting
// Course website:https://sites.google.com/a/caece.net/keystone-project-b-jet-cut/ Inspiring freshman student with creative thinking for the structure design. Guiding students to use engineering graphic software SketchUp to model their design. Assisting with the water jet machine for building the real model. Assisting to prepare lecture materials. Office hour consulting
// Skills: Emerging Technologies Â· Problem Solving
// Skills: Emerging Technologies Â· Problem Solving
// Intern Assistant Engineer
// Intern Assistant Engineer
// Intern Assistant Engineer
// PanUnitedPanUnited
// Jun 2007 - Sep 2007 Â· 4 mosJun 2007 to Sep 2007 Â· 4 mos
// SingaporeSingapore
// Participating the concrete and asphalt lab procedure
// Construction fields monitoring
// Drawing road map for construction
// Office paper work 


// Project data
const projectData = {
    'agentic-ai': {
        title: 'ğŸ¤– Agentic AI',
        description: 'Exercise based on DeepLearning.AI Agentic AI course, build agentic design patterns: reflection, tool use, planning, and multi-agent workflows Integrate AI with external tools: databases, APIs, web search, and code execution Evaluate and optimize AI systems: performance metrics, error analysis, and production deployment',
        tech: ['python'],
        image:"https://storage.googleapis.com/not-a-number-site/547995467_122131309712900028_7649130560212152918_n.jpg",
        liveLink: '#',
        githubLink: '#'
    },
    'floppy-bird-ml': {
        title: 'ğŸ¦ FloppyBird Machine Learning',
        description: 'HTML5 project that implements a machine learning algorithm in the Flappy Bird video game using neural networks and a genetic algorithm. The program teaches a little bird how to flap optimally in order to fly safely through barriers as long as possible.',
        tech: ['HTML5', 'OpenWeather API', 'CSS3', 'Geolocation'],
        liveLink: '#',
        githubLink: '#'
    },
    'todo-app': {
        title: 'âœ… Todo App',
        description: 'A modern todo application with drag-and-drop functionality, categories, priority levels, and local storage for persistence. Fully responsive design.',
        tech: ['React', 'Redux', 'LocalStorage', 'Drag & Drop'],
        liveLink: '#',
        githubLink: '#'
    },
    'portfolio': {
        title: 'ğŸ’¼ Portfolio Site',
        description: 'My personal portfolio showcasing projects and skills. Built with Gatsby for blazing fast performance, optimized for SEO and accessibility.',
        tech: ['Gatsby', 'React', 'GraphQL', 'Netlify'],
        liveLink: 'https://pantak.net',
        githubLink: 'https://github.com/Kielx/terminal-portfolio'
    },
    'blog': {
        title: 'ğŸ“ Tech Blog',
        description: 'A blog where I share my thoughts on web development, tutorials, code snippets and tech insights. Updated regularly with new content.',
        tech: ['Gatsby', 'MDX', 'GraphQL', 'SEO'],
        liveLink: '#',
        githubLink: '#'
    },
    'moonfare-sde': {
        title: 'ğŸ”¢ Calculator',
        description: 'A simple yet elegant calculator with basic arithmetic operations, decimal support, and keyboard shortcuts for power users.',
        tech: ['JavaScript', 'CSS3', 'HTML5'],
        liveLink: '#',
        githubLink: '#'
    },
    'moonfare-em': {
        title: 'â° Digital Clock',
        description: 'An animated digital clock with multiple timezone support, 12/24 hour format toggle, and custom styling options.',
        tech: ['JavaScript', 'CSS Animations', 'HTML5'],
        liveLink: '#',
        githubLink: '#'
    },
    'plus-dental': {
        title: 'â“ Quiz App',
        description: 'Create and take quizzes on various topics. Features include timer, score tracking, leaderboards and detailed analytics.',
        tech: ['JavaScript', 'LocalStorage', 'CSS3'],
        liveLink: '#',
        githubLink: '#'
    }
};

// Draggable Window Manager
class DraggableWindow {
    constructor(projectKey) {
        this.projectKey = projectKey;
        this.project = projectData[projectKey];
        this.isMaximized = false;
        this.originalPos = { x: 0, y: 0, width: 0, height: 0 };
        this.create();
    }

    create() {
        const windowEl = document.createElement('div');
        windowEl.className = 'draggable-window';
        windowEl.setAttribute('data-project-key', this.projectKey);
        windowEl.innerHTML = `
            <div class="window-header">
                <div class="window-buttons">
                    <div class="window-btn btn-close-win"></div>
                    <div class="window-btn btn-minimize-win"></div>
                    <div class="window-btn btn-maximize-win"></div>
                </div>
                <div class="window-title">${this.project.title}</div>
            </div>
            <div class="window-content">
                <h2>${this.project.title}</h2>
                ${this.project.image ? `<img src="${this.project.image}" alt="${this.project.title}" style="max-width: 100%; height: auto; margin-bottom: 15px;">` : ''}
                <p>${this.project.description}</p>
                
                <div class="section-title" style="color: var(--primaryText); font-size: 14px; margin-top: 20px;">Technologies Used:</div>
                <div class="tech-stack">
                    ${this.project.tech.map(tech => `<span class="tech-badge">${tech}</span>`).join('')}
                </div>
                
                <div class="project-links">
                    <a href="${this.project.liveLink}" target="_blank" class="btn">ğŸš€ Live Demo</a>
                    <a href="${this.project.githubLink}" target="_blank" class="btn">ğŸ’» View Code</a>
                </div>
            </div>
        `;

        document.body.appendChild(windowEl);
        this.element = windowEl;
        this.header = windowEl.querySelector('.window-header');
        
        // è¨­ç½®ä½ç½®å’Œå¤§å°
        this.setPosition();
        this.attachEvents();
    }

    setPosition() {
        // ç½®ä¸­çª—å£
        this.element.style.left = '50%';
        this.element.style.top = '50%';
        this.element.style.transform = 'translate(-50%, -50%)';
        this.element.style.width = '600px';
        this.element.style.height = 'auto';
    }

    attachEvents() {
        const closeBtn = this.element.querySelector('.btn-close-win');
        const minimizeBtn = this.element.querySelector('.btn-minimize-win');
        const maximizeBtn = this.element.querySelector('.btn-maximize-win');

        closeBtn.addEventListener('click', () => {
            this.close()
            window.location.hash='';
        });
        
        minimizeBtn.addEventListener('click', () => {
            this.close()
            window.location.hash='';
        });
        maximizeBtn.addEventListener('click', () => {
            this.close()
            window.location.hash='';
        });

        // æ‹–æ›³åŠŸèƒ½å·²ç§»é™¤ - çª—å£é–å®šåœ¨ä¸­å¿ƒ
    }

    startDrag(e) {
        // æ‹–æ›³åŠŸèƒ½å·²ç¦ç”¨
    }

    close() {
        this.element.style.animation = 'slideIn 0.3s ease-out reverse';
        setTimeout(() => {
            this.element.remove();
            const overlay = document.getElementById('modalOverlay');
            if (document.querySelectorAll('.draggable-window').length === 0) {
                overlay.classList.remove('active');
            }
        }, 300);
    }

    minimize() {
        // ç°¡å–®çš„æœ€å°åŒ– - éš±è—å…§å®¹
        const content = this.element.querySelector('.window-content');
        if (content.style.display === 'none') {
            content.style.display = 'block';
            this.element.style.height = 'auto';
        } else {
            content.style.display = 'none';
            this.element.style.height = '50px';
        }
    }

    maximize() {
        if (!this.isMaximized) {
            this.element.style.left = '0';
            this.element.style.top = '0';
            this.element.style.transform = 'none';
            this.element.style.width = '100%';
            this.element.style.height = '100vh';
            this.isMaximized = true;
        } else {
            this.element.style.left = '50%';
            this.element.style.top = '50%';
            this.element.style.transform = 'translate(-50%, -50%)';
            this.element.style.width = '600px';
            this.element.style.height = 'auto';
            this.isMaximized = false;
        }
    }
}

// Typewriter effect
const phrases = [
    "Software Engineer / Engineering Manager",
    "Problem Solver",
    "Creative Thinker",
    "NaN Fang-Ying",
];

let phraseIndex = 0;
let charIndex = 0;
let isDeleting = false;
const typewriterElement = document.getElementById('typewriter');

function typeWriter() {
    const currentPhrase = phrases[phraseIndex];
    
    if (isDeleting) {
        typewriterElement.textContent = currentPhrase.substring(0, charIndex - 1);
        charIndex--;
    } else {
        typewriterElement.textContent = currentPhrase.substring(0, charIndex + 1);
        charIndex++;
    }

    typewriterElement.innerHTML += '<span class="typewriter-cursor"></span>';

    let typeSpeed = isDeleting ? 50 : 100;

    if (!isDeleting && charIndex === currentPhrase.length) {
        typeSpeed = 2000;
        isDeleting = true;
    } else if (isDeleting && charIndex === 0) {
        isDeleting = false;
        phraseIndex = (phraseIndex + 1) % phrases.length;
        typeSpeed = 500;
    }

    setTimeout(typeWriter, typeSpeed);
}

// Start typewriter
setTimeout(typeWriter, 500);

// Handle opening window from hash
function openWindowFromHash(projectKey) {
    // Check if window already exists
    const existingWindow = document.querySelector(`[data-project-key="${projectKey}"]`);
    if (existingWindow) {
        return; // Window already open
    }

    // Show modal overlay
    const overlay = document.getElementById('modalOverlay');
    overlay.classList.add('active');
    
    // Create and open window
    new DraggableWindow(projectKey);
}

// Project click handler
const projectItems = document.querySelectorAll('.project-item');

projectItems.forEach(item => {
    item.addEventListener('click', function(e) {
        e.preventDefault();
        const projectKey = this.getAttribute('data-project');
        
        // Update URL with anchor
        window.location.hash = projectKey;
        
        // Open window
        openWindowFromHash(projectKey);
    });
});

// Close modal when clicking overlay
document.getElementById('modalOverlay').addEventListener('click', () => {
    const windows = document.querySelectorAll('.draggable-window');
    windows.forEach(win => {
        const closeBtn = win.querySelector('.btn-close-win');
        closeBtn.click();
    });
});

// Remove loading message after page loads
window.addEventListener('load', function() {
    setTimeout(() => {
        const loadingEl = document.querySelector('.loading');
        if (loadingEl) {
            loadingEl.textContent = 'Portfolio ready!';
            loadingEl.classList.remove('loading');
        }
    }, 1000);

    // Check for anchor in URL
    const hash = window.location.hash.substring(1);
    if (hash && projectData[hash]) {
        openWindowFromHash(hash);
    }
});

// Listen for hash changes (only from external sources, not from clicks)
window.addEventListener('hashchange', function() {
    const hash = window.location.hash.substring(1);
    if (hash && projectData[hash]) {
        openWindowFromHash(hash);
    }
});

window.help = function() {
    console.log('%c Available commands:', 'color: #ffc600; font-size: 16px; font-weight: bold;');
    console.log('%c help() - Show this help', 'color: #ccc;');
    console.log('%c about() - Learn about me', 'color: #ccc;');
    console.log('%c contact() - Get contact info', 'color: #ccc;');
};

window.about = function() {
    console.log('%c About Krzysztof Pantak', 'color: #ffc600; font-size: 16px; font-weight: bold;');
    console.log('%c Full-stack developer passionate about creating amazing web experiences.', 'color: #ccc;');
};

window.contact = function() {
    console.log('%c Contact Information', 'color: #ffc600; font-size: 16px; font-weight: bold;');
    console.log('%c Email: contact@pantak.net', 'color: #047be3;');
    console.log('%c GitHub: github.com/kielx', 'color: #047be3;');
};
